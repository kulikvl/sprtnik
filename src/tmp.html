<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Pure CSS/JS Modal</title>
    <style>
      /* ====================== 
       BASIC MODAL STYLES 
       ====================== */
      .modal {
        /* Covers the entire viewport */
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;

        /* Dark background overlay */
        background-color: rgba(0, 0, 0, 0.5);

        /* Initially hidden */
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      /* When the modal is shown, make it visible and clickable */
      .modal.show {
        opacity: 1;
        pointer-events: auto;
      }

      /* Center the modal box */
      .modal-dialog {
        position: relative;
        width: 90%;
        max-width: 600px;
        margin: 10% auto; /* Adjust as needed */
      }

      /* The white box inside the modal */
      .modal-content {
        background: #fff;
        border-radius: 4px;
        overflow: hidden;
      }

      /* ======================
       OPTIONAL HEADER/BODY/FOOTER 
       ====================== */
      .modal-header,
      .modal-body,
      .modal-footer {
        padding: 16px;
      }

      .modal-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 1px solid #ddd;
      }

      .modal-title {
        margin: 0;
        font-size: 1.25rem;
      }

      .close-button,
      .save-button {
        cursor: pointer;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 1rem;
      }

      .close-button {
        background-color: transparent;
        font-weight: bold;
      }

      .save-button {
        background-color: #007bff;
        color: #fff;
      }

      .modal-body {
        min-height: 100px; /* just to have some space */
      }

      .modal-footer {
        border-top: 1px solid #ddd;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 8px;
      }

      /* Tag input styling – as needed */
      .card-editor-modal-tag-container {
        display: flex;
        gap: 8px;
        align-items: center;
        flex: 1;
      }

      .card-editor-modal-tag-input {
        flex: 1;
        padding: 6px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      .card-editor-modal-tag-list {
        display: inline-flex;
        gap: 4px;
        flex-wrap: wrap;
      }
    </style>
  </head>
  <body>
    <!-- A button to demo showing the modal -->
    <button onclick="showCardEditorModal()">Open Card Editor Modal</button>

    <!-- ======================
       MODAL STRUCTURE
       ====================== -->


    <script>
      // References to important elements
      const cardEditorModal = document.getElementById('cardEditorModal');
      const closeBtn = document.getElementById('cardEditorModalCloseBtn');
      const saveBtn = document.getElementById('cardEditorModalSaveBtn');

      /**
       * Show the modal by adding the “show” class.
       */
      function showCardEditorModal() {
        cardEditorModal.classList.add('show');
      }

      /**
       * Hide the modal by removing the “show” class.
       * Dispatch a custom event so other parts of your code
       * can listen for it (similar to Bootstrap's "hidden.bs.modal").
       */
      function hideCardEditorModal() {
        cardEditorModal.classList.remove('show');

        // Dispatch a custom event after hiding
        const hideEvent = new Event('modalHidden');
        cardEditorModal.dispatchEvent(hideEvent);
      }

      // Attach click handlers to close & save buttons
      closeBtn.addEventListener('click', hideCardEditorModal);
      saveBtn.addEventListener('click', () => {
        // Perform any “save” logic here
        console.log('Save button clicked – do something...');
        hideCardEditorModal();
      });

      // Example: listen for custom hide event
      cardEditorModal.addEventListener('modalHidden', () => {
        console.log('Modal just got hidden! Cleanup or reset fields here if needed.');
      });

      // Optional: Hide the modal if user clicks outside the .modal-dialog box
      cardEditorModal.addEventListener('click', e => {
        // If clicked directly on the overlay (i.e., the .modal, not .modal-dialog or children)
        if (e.target === cardEditorModal) {
          hideCardEditorModal();
        }
      });
    </script>
  </body>
</html>
